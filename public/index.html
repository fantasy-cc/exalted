<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Path of Exile 2 - Currency Arbitrage Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🔥 PoE 2 Currency Arbitrage Calculator</h1>
            <p>Find profitable opportunities across <strong>23+ currencies</strong> with live market data</p>
            <div class="feature-badges">
                <span class="badge">✨ 23 Currencies</span>
                <span class="badge">🎭 Live Browser Data</span>
                <span class="badge">📈 Smart Arbitrage</span>
                <span class="badge">🔄 Real-time Rates</span>
            </div>
        </header>

        <main>
            <div class="input-section">
                <h2>📊 Calculate Arbitrage Opportunities</h2>
                
                <!-- Loading Indicator -->
                <div id="loading" class="loading" style="display: none;">
                    <div class="spinner"></div>
                    <span>Processing...</span>
                </div>
                
                <!-- Status Display -->
                <div id="status" class="status info">
                    Ready to calculate arbitrage opportunities
                </div>
                
                <!-- Configuration Section -->
                <div class="config-section">
                    <details>
                        <summary>⚙️ Advanced Settings</summary>
                        <div class="config-grid">
                            <div class="form-group">
                                <label for="topPercentage">📊 Currency Selection:</label>
                                <div class="percentage-control">
                                    <input type="range" id="topPercentage" min="10" max="100" value="80" step="5">
                                    <span class="percentage-display">Top 80% of currencies</span>
                                </div>
                                <small class="help-text">Choose what percentage of most popular currencies to include</small>
                            </div>
                            
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="showPopularityMetrics">
                                    Show popularity metrics in currency list
                                </label>
                                <small class="help-text">Display trading volume and popularity scores</small>
                            </div>
                        </div>
                    </details>
                </div>
                
                <!-- Trading Mode Selection -->
                <div class="mode-selection">
                    <div class="form-group">
                        <label>🎯 Trading Mode:</label>
                        <div class="mode-toggle">
                            <label class="mode-option">
                                <input type="radio" name="tradingMode" value="specific" id="specificCurrencyMode" checked>
                                <span class="mode-label">📍 Specific Currency</span>
                                <small>Start with one currency and find arbitrage paths</small>
                            </label>
                            <label class="mode-option">
                                <input type="radio" name="tradingMode" value="all" id="allTradesMode">
                                <span class="mode-label">🏆 All Trades Ranked</span>
                                <small>Show all profitable trades ranked by profit</small>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group" id="currencySelectGroup">
                        <label for="currencySelect">💰 Starting Currency:</label>
                        <select id="currencySelect" class="currency-select">
                            <option value="">Loading currencies...</option>
                        </select>
                        <small class="help-text">Choose from 23+ supported currencies</small>
                    </div>

                    <div class="form-group" id="budgetRangeGroup" style="display: none;">
                        <label for="budgetRange">💎 Budget Range:</label>
                        <select id="budgetRange" class="budget-select">
                            <option value="all">All Budget Levels</option>
                            <option value="micro">💰 Micro ($1-5)</option>
                            <option value="small">🏠 Small ($5-25)</option>
                            <option value="medium">💎 Medium ($25-100)</option>
                            <option value="large">🚀 Large ($100-500)</option>
                            <option value="whale">🐋 Whale ($500+)</option>
                        </select>
                        <small class="help-text">Filter opportunities by your investment budget</small>
                    </div>

                    <div class="form-group">
                        <label for="minProfit">📈 Min Profit (%):</label>
                        <input type="number" id="minProfit" min="0" value="1" step="0.1" placeholder="1.0">
                        <small class="help-text">Minimum profit threshold to show results</small>
                    </div>
                </div>

                        <div class="button-group">
                            <button id="calculateButton" class="calculate-button primary">
                                🚀 Calculate Arbitrage Opportunities
                            </button>
                            <button id="refreshDataButton" class="refresh-button secondary">
                                🔄 Force Refresh Live Data
                            </button>
                        </div>
            </div>

            <div class="results-section">
                <div id="results">
                    <!-- Results will be populated by JavaScript -->
                </div>
            </div>
        </main>
        
        <footer>
            <div class="footer-content">
                <p>🎯 <strong>PoE2 Arbitrage Calculator</strong> - Powered by Python Backend with FastAPI</p>
                <div class="tech-stack">
                    <span class="tech">Backend: Python + FastAPI</span>
                    <span class="tech">Data: Realistic Sept 12, 2025 Market Rates</span>
                    <span class="tech">Frontend: Vanilla JS</span>
                </div>
            </div>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
